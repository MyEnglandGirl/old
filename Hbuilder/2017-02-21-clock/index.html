<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
"http://www.w3.org/TR/html4/strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" lang="en">

	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
		<title></title>
		<link rel="icon" href="favicon.ico" type="image/x-icon">
		<!--<link rel="icon" href="img/favicon.ico" type="image/x-icon">-->
		<link rel="stylesheet" type="text/css" href="css/reset.css" />
		<script src="js/jquery-1.12.4.min.js" type="text/javascript" charset="utf-8"></script>
	</head>

	<body>
		<canvas id="canvas" width="500" height="500"></canvas>
	</body>
	<script type="text/javascript">
		var oCanvas = document.getElementById("canvas");
		var context = oCanvas.getContext("2d");

		function draw() {
//			清空画布
			context.clearRect(0,0,500,500);
			//		背景
			context.fillStyle = "#ff0";
			context.fillRect(0, 0, 500, 500);
			//		表盘
			context.beginPath();
			context.lineWidth = 4;
			context.arc(250, 250, 200, 0, 2 * Math.PI);
			context.strokeStyle = "#000";
			context.stroke(); //空心
			context.closePath();
			//		分刻度
			context.save(); //保存一下（原点）
			context.translate(250, 250);
			for(var i = 0; i < 60; i++) {
				context.beginPath();
				context.rotate(Math.PI / 30); //6°
				context.moveTo(0, -180);
				context.lineTo(0, -190);
				context.stroke();
				context.closePath();
			}
			context.lineWidth = 5;

			for(var i = 1; i < 13; i++) {
				context.rotate(Math.PI / 6);
				//			context.font = "blod 20px 微软雅黑"
				//			context.fillStyle = "#000";
				//			context.fillText(i,-7,-150);
				context.beginPath();
				context.moveTo(0, -170);
				context.lineTo(0, -190);
				context.stroke();
				context.closePath();
			}
			context.restore();
			context.arc(0, 0, 5, 0, 2 * Math.PI);
			context.fillStyle = "#000";
			context.fill();

			var now = new Date();
			var hours = now.getHours();
			var minutes = now.getMinutes();
			var second = now.getSeconds();
			minutes = minutes + second / 60;
			hours = hours + minutes / 60;
			console.log(hours, minutes, second);

			context.save();
			context.translate(250, 250);
			//		时针
			context.beginPath();
			context.lineWidth = 5;
			context.rotate(Math.PI / 6 * hours);
			context.moveTo(0, 10);
			context.lineTo(0, -165);
			context.stroke();
			context.closePath();

			//		分针
			context.restore();
			context.save();
			context.translate(250, 250);
			context.beginPath();
			context.lineWidth = 3;
			context.rotate(Math.PI / 30 * minutes);
			context.moveTo(0, 20);
			context.lineTo(0, -165);
			context.stroke();
			context.closePath();
			context.restore();
			//		秒针
			context.restore();
			context.save();
			context.translate(250, 250);

			context.beginPath();
			context.lineWidth = 2;
			context.rotate(Math.PI / 30 * second);
			context.moveTo(0, 30);
			context.lineTo(0, -170);
			context.strokeStyle = "red";
			context.stroke();
			context.closePath();

			context.beginPath();
			context.lineWidth = 3;
			context.strokeStyle = "red";
			context.fillStyle = "white";
			context.arc(0, 0, 3, 0, 2 * Math.PI);
			context.fill();
			context.stroke();
			context.closePath();

			context.beginPath();
			context.lineWidth = 3;
			context.strokeStyle = "red";
			context.fillStyle = "white";
			context.arc(0, -130, 4, 0, 2 * Math.PI);
			context.fill();
			context.stroke();
			context.closePath();
			context.restore();
		}
		draw();
		//		定时器
		setInterval(function() {
			draw();
		}, 1000);
		
		var x=0;
		var y=0;
		function move() {
			x+=10;
			y+=10;
			context.fillStyle = "#44444";
			context.fillRect(x,y,20,20);
			
		}
		
	</script>

</html>